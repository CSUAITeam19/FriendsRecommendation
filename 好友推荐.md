# 社交软件好友推荐机制
## 一、推荐基于何种因素
1. 根据用户注册的手机号码、电子邮箱、访问记录、共同的朋友、登录IP、出生地、受教育程度绘制出抽象的用户画像。
2. 用户间存在互动，如同评论、分享、转发等操作，在社交网络之中根据用户之间的交互来判断两者的亲密度。
## 二、推荐机制
### 1. 基于K-最近邻算法的用户相似度比对
- 通过特征工程技术，为用户构建抽象的用户画像。其过程就是将用户信息标签化，以用户个人信息、行为数据作为基础，抽象出一个用户的信息全貌。当用户的信息全貌构建完成之后，对标签进行匹配推荐。
- 最终用户所产生的特征向量为 $(u_1, u_2, u_3, u_4 ......, u_n)$， 最后根据欧式距离寻找与当前用户距离最小的用户，即为推荐用户。

### 2. 用户交互图
- 在此种推荐模式之下，每一个用户可以看作空间中的一个节点，当两个用户之间发生某种程度的互动，即在两个节点中建立联系，并且根据互动程度设置一个权重，再结合用户图像的相似度以及这个权重来进行用户推荐。
- 根据好友列表(或关注列表)建立一个好友关系图, 用户作为一个节点, 存在好友关系则权重为1, 其它交互会产生小于1的权值, 从一个节点出发, 每次遍历获取周围节点, 将经过的边的权重之积作为节点排序依据, 将搜索到的节点剔除好友后, 按降序排列得到一个推荐列表.

### 3. 空间状态图
- 通过对用户的不同属性进行分类构建状态向量$(a_1, a_2, a_3, a_4, ..., a_n)$，其中根据用户的国家来确定$a_1$， 倘若用户属于中国则$a_1$记作 “1”，若用户属于美国则$a_1$记作“2”，以此类推，特征向量其余的维度则根据用户的其他特征所决定，这种特征可以是原始的属性也可以是经过某种特殊组合之后的特征。
- 当空间状态向量确定之后，则可将各用户确定为这一空间状态图中的某一节点，再根据用户当前周围的节点来推荐“可能认识的人”。（基于这种方式的空间状态图生成，最终产生的是一个空间状态树，每一个用户都在叶子节点上，并且假设每一条边的权重为1，而用户当前周围的节点则指的是满足与用户节点之间加权的迹的长度在一定范围内）

